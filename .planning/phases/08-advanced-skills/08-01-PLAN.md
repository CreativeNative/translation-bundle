---
phase: 08-advanced-skills
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/skills/translation-debugger/SKILL.md
  - .claude/skills/translation-debugger/references/diagnostics.md
autonomous: true

must_haves:
  truths:
    - "AI suggests debugger skill when user reports translation problems"
    - "Debugger runs diagnostics automatically on activation (no open-ended questions)"
    - "Issues presented in dependency order (blocking first)"
    - "AI offers to fix each detected issue"
  artifacts:
    - path: ".claude/skills/translation-debugger/SKILL.md"
      provides: "Diagnostic workflow instructions"
      max_lines: 200
    - path: ".claude/skills/translation-debugger/references/diagnostics.md"
      provides: "Detailed diagnostic checks"
      contains: "Entity Configuration"
  key_links:
    - from: ".claude/skills/translation-debugger/SKILL.md"
      to: "llms.md"
      via: "reference link"
      pattern: "llms\\.md.*Troubleshooting"
---

<objective>
Create translation-debugger skill that systematically diagnoses translation configuration issues with automated detection and dependency-ordered presentation.

Purpose: Enable AI assistants to help users fix translation problems through systematic diagnosis rather than guesswork.
Output: Claude Code skill with diagnostic workflow and detailed check references.
</objective>

<execution_context>
@C:\Users\info\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\info\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-advanced-skills/08-CONTEXT.md
@.planning/phases/08-advanced-skills/08-RESEARCH.md
@.planning/phases/07-core-implementation-skill/07-01-SUMMARY.md
@.claude/skills/entity-translation-setup/SKILL.md
@llms.md (Handler Chain Decision Tree section, lines 33-157)
@llms.md (Troubleshooting section, lines 626-775)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create translation-debugger skill</name>
  <files>
    .claude/skills/translation-debugger/SKILL.md
    .claude/skills/translation-debugger/references/diagnostics.md
  </files>
  <action>
Create skill directory and files following Phase 7 pattern:

**SKILL.md** (under 200 lines):

1. Frontmatter with name: translation-debugger and broad catch-all description trigger:
   - Trigger phrases: "translation" + "problem/issue/wrong/broken/not working/error"
   - Include: "why isn't translation working?"

2. Activation section:
   - Announce: "I'll use the translation-debugger skill to diagnose your translation issues."
   - DO NOT ask open-ended questions - run diagnostics immediately

3. Diagnostic workflow (high-level steps only, details in references/):
   - Step 1: Identify target entity (ask which entity if not obvious)
   - Step 2: Run diagnostic checks (reference diagnostics.md)
   - Step 3: Present results in dependency order
   - Step 4: Offer fixes for each issue

4. Result presentation format:
   - Group by severity: BLOCKING -> ERROR -> WARNING
   - Show dependency relationships: "[blocks issues #2, #3]"
   - Include checkmarks for passing checks
   - "Want me to fix this?" after each issue

5. Reference to llms.md Troubleshooting for detailed fixes

**references/diagnostics.md**:

Detailed check procedures for each layer:

1. Entity Configuration Layer:
   - Implements TranslatableInterface? (BLOCKING if no)
   - Uses TranslatableTrait? (BLOCKING if no)
   - Has $tuuid property initialized? (BLOCKING if no)
   - Has $locale property? (WARNING if missing)

2. Attribute Configuration Layer:
   - Bidirectional relations with SharedAmongstTranslations? (ERROR - RuntimeException)
   - EmptyOnTranslate on non-nullable fields? (ERROR - LogicException)
   - Both SharedAmongstTranslations and EmptyOnTranslate on same field? (WARNING - shared takes precedence)

3. Handler Chain Mapping Layer:
   - Field type matches expected handler?
   - Custom handler priority conflicts?
   - Include handler priority table reference

4. Runtime Configuration Layer:
   - Target locale in tmi_translation.locales? (ERROR if not)
   - Doctrine filter enabled? (WARNING if not)
   - Entity persisted after translation? (INFO)

Each check should include: What to look for, How to check (code/config to examine), What error indicates, Link to fix in llms.md.
  </action>
  <verify>
    - SKILL.md exists and is under 200 lines: `wc -l .claude/skills/translation-debugger/SKILL.md`
    - references/diagnostics.md exists with all 4 diagnostic layers
    - Frontmatter has name and description fields
    - No open-ended questions in activation flow
    - Dependency order mentioned in result presentation
  </verify>
  <done>
    - translation-debugger skill complete with SKILL.md under 200 lines
    - Diagnostic checks documented in references/diagnostics.md
    - Trigger phrases cover broad problem language
    - Workflow runs diagnostics automatically, presents in dependency order, offers fixes
  </done>
</task>

<task type="auto">
  <name>Task 2: Validate skill structure</name>
  <files>
    .claude/skills/translation-debugger/SKILL.md
    .claude/skills/translation-debugger/references/diagnostics.md
  </files>
  <action>
Validate the created skill:

1. Line count check: SKILL.md must be under 200 lines
2. Frontmatter validation: name and description present
3. Trigger coverage: Verify description covers problem language variations
4. No open-ended questions: Confirm activation runs diagnostics immediately
5. Dependency order: Confirm presentation mentions blocking issues first
6. Fix offers: Confirm "Want me to fix this?" pattern present
7. llms.md reference: Confirm link to Troubleshooting section
  </action>
  <verify>
    - `wc -l .claude/skills/translation-debugger/SKILL.md` returns under 200
    - grep for "name:" and "description:" in frontmatter
    - grep for "BLOCKING" and dependency order presentation
  </verify>
  <done>
    - Skill passes all validation checks
    - Ready for AI assistant use
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Skill directory exists: `.claude/skills/translation-debugger/`
2. SKILL.md under 200 lines with proper frontmatter
3. references/diagnostics.md covers all 4 diagnostic layers
4. Workflow matches user decisions: automated detection, dependency order, offer to fix
5. Broad trigger phrases for problem language
</verification>

<success_criteria>
- translation-debugger skill exists with SKILL.md under 200 lines
- Diagnostic workflow runs automatically without open-ended questions
- Issues presented in dependency order (blocking first)
- Offer-to-fix pattern after each detected issue
- References llms.md Troubleshooting for detailed solutions
</success_criteria>

<output>
After completion, create `.planning/phases/08-advanced-skills/08-01-SUMMARY.md`
</output>
